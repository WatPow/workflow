{
  "nodes": [
    {
      "id": "webhook",
      "parameters": {
        "httpMethod": "GET",
        "path": "yeswehack-programs",
        "responseMode": "onReceived"
      },
      "name": "Webhook - Trigger",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [200, 300]
    },
    {
      "id": "httpRequest",
      "parameters": {
        "url": "https://api.yeswehack.com/programs?page=1&resultsPerPage=42",
        "responseFormat": "json",
        "options": {}
      },
      "name": "Appel API YesWeHack",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [400, 300]
    },
    {
      "id": "transform",
      "parameters": {
        "functionCode": "const programs = items[0].json.items.map(p => ({\n  name: p.title,\n  url: `https://yeswehack.com/programs/${p.slug}`,\n  country: p.country,\n  type: p.type,\n  bounty: !!p.bounty,\n  reward_min: p.bounty_reward_min,\n  reward_max: p.bounty_reward_max,\n  scopes: p.scopes_count,\n  reports: p.reports_count\n}))\n\nreturn [{ json: { programs } }];"
      },
      "name": "Formatter JSON",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [600, 300]
    },
    {
      "id": "response",
      "parameters": {
        "responseMode": "lastNode",
        "options": {
          "rawBody": false
        }
      },
      "name": "Retour JSON",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [800, 300]
    }
  ],
  "connections": {
    "Webhook - Trigger": {
      "main": [
        [
          {
            "node": "Appel API YesWeHack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Appel API YesWeHack": {
      "main": [
        [
          {
            "node": "Formatter JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Formatter JSON": {
      "main": [
        [
          {
            "node": "Retour JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  ],
  "active": true,
  "settings": {},
  "name": "Tool - YesWeHack Live",
  "tags": ["tool", "yeswehack"]
}
